# System Flow

Before you're using the GM-I18n API, you need to know how things work in GM-I18n system.

---

::alert{type="info"}
You can skip this section if you already know how things works in GM-I18n system.
::

---

## Locale Files Loading

The locale file (if you're using it) will be automatically loaded when you're using the `i18n_create()` function. The loading process is done **asynchronously**, so the `messages` in the file **won't be loaded immediately**. Therefore, you need to wait until the loading is finished before you can use the GM-I18n API. 

Here's how the locale files loading works:

1. You initialize the GM-I18n system using `i18n_create()` and update the system using `i18n_update_loader()`.
2. The system check if you're trying to import any locale file using `i18n_create()`.
3. Your game run by 1 step:
    - If the `time` option was set in the GM-I18n system initialization, add current step to the system. 
        - If the step passed the `time` interval, the system load your unloaded locale file sequentially.
        - If all locale files haven't loaded completely, repeat step 3 until all locale files are loaded to the system.
        - If all locale files have been loaded completely, continue to the step 4.
    - If the `time` option wasn't set in the GM-I18n system initialization, those files will be loaded immediately. Continue to the step 4.
4. The system will remove the `loader` after all locale files have been loaded.

::alert{type="info"}
There are two ways to add a `message` to the system: loading the file through `i18n_create`, or add it manually using `i18n_add_messages` after the i18n has been initialized. <br> <br> 

If you don't know about message yet, `message` is a translated text that you will use in GM-I18n system. <br> <br>

If you aren't setting the `time` option when initializing the GM-I18n system, the system will load all locale files after 1 step of the game. <br> <br>

Use `i18n_is_ready()` to check whether the GM-I18n is ready (all locale files have been loaded) or not.
::
